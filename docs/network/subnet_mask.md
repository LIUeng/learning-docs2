# 子网掩码

:::tip 定义
`子网掩码`(subnet mask)又叫网络掩码、地址掩码、子网络遮罩。指明一个 IP 地址的哪些位标识的是主机所在的子网以及哪些位标识的是主机的位掩码。不能单独存在，结合 IP 地址使用，将 IP 地址划分成网络地址和主机地址。
:::

## 背景

IPV4 地址资源紧缺，解决 IP 地址分配而产生的虚拟 IP 技术，通过子网掩码将 A、B、C 三类地址划分为若干子网，提高 IP 地址的分配效率。

## 功能

32 位地址

- 用于屏蔽 IP 地址的一部分以区别网络标识和主机标识，该 IP 地址是在局域网上还是在远程网（广域网）
- 将一个大的 IP 网络划分为若干个小的子网络

### 声明网络地址与主机地址

| 类别 | 子网掩码的二进制数值                | 子网掩码的十进制数值 |
| ---- | ----------------------------------- | -------------------- |
| A    | 11111111 00000000 00000000 00000000 | 255.0.0.0            |
| B    | 11111111 11111111 00000000 00000000 | 255.255.0.0          |
| C    | 11111111 11111111 11111111 00000000 | 255.255.255.0        |

- 将子网掩码二进制和 IP 地址二进制进行逻辑与（AND）运算，得到的是主机地址

```txt
IP 地址 192.168.10.11 AND 255.255.255.0 ==== 192.168.10.0

说明：该IP地址属于192.168.10.0这个网络，其主机号为11（网络中编号为11的主机）
```

### 划分子网

减少网络上的通信量；节省 IP 地址；便于管理；解决物理网络本身的某些问题

## 变长子网掩码

`192.168.0.0/24` === 24 为网络号 + 8 位主机号

VLSM（variable-length subnet masks）每段 IP 地址使用不同长度的子网掩码，可以对子网进行层次化编址，以便最有效的利用现有的地址空间

## 无类别域间路由

`基于可变长子网掩码（VLSM）`来进行任意长度的前缀的分配

CIDR（classless inter-domain routing）给用户分配 IP 地址以及在互联网上有效的路由 IP 数据包的对 IP 地址进行归类的方法
