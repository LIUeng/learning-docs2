import{_ as a,o as e,c as l,Q as i}from"./chunks/framework.7c0fadea.js";const p=JSON.parse('{"title":"前端监控体系","description":"","frontmatter":{},"headers":[],"relativePath":"architecture/standard/monitor.md","filePath":"architecture/standard/monitor.md","lastUpdated":1670330848000}'),t={name:"architecture/standard/monitor.md"},o=i('<h1 id="前端监控体系" tabindex="-1">前端监控体系 <a class="header-anchor" href="#前端监控体系" aria-label="Permalink to &quot;前端监控体系&quot;">​</a></h1><p>如何搭建一个前端监控体系</p><h2 id="为什么" tabindex="-1">为什么 <a class="header-anchor" href="#为什么" aria-label="Permalink to &quot;为什么&quot;">​</a></h2><ol><li>如何及时发现问题</li><li>如何快速定位并解决问题</li></ol><h2 id="监控内容" tabindex="-1">监控内容 <a class="header-anchor" href="#监控内容" aria-label="Permalink to &quot;监控内容&quot;">​</a></h2><ul><li>页面的整体访问情况，包括常见的 PV（page view）、UV（user view）、用户操作行为</li><li>页面的性能情况，包括页面加载耗时、接口耗时等各项数据统计</li></ul><h2 id="数据埋点与收集" tabindex="-1">数据埋点与收集 <a class="header-anchor" href="#数据埋点与收集" aria-label="Permalink to &quot;数据埋点与收集&quot;">​</a></h2><p>页面访问速度、页面稳定性/异常、外部调用服务情况</p><ol><li>系统的生命周期数据，（页面性能、整体访问）</li><li>HTTP 测试数据（外部服务调用、页面性能优化）</li><li>系统异常（系统稳定性、系统异常）</li><li>用户行为数据（页面稳定性、整体访问）</li><li>用户日志（反馈问题排查）</li></ol><h3 id="系统生命周期" tabindex="-1">系统生命周期 <a class="header-anchor" href="#系统生命周期" aria-label="Permalink to &quot;系统生命周期&quot;">​</a></h3><p><code>PerformanceTiming</code></p><ul><li>navigationstart、unloadEventStart/unloadEventEnd</li><li>domLoading、domInteractive、domContentLoadedEventStart/domContentLoadedEventEnd、loadEventStart/loadEventEnd</li></ul><p><code>document</code> 监听事件</p><ul><li>DOMContentLoaded</li><li>readystatechange</li><li>MutationObserver</li></ul><p><code>框架带有自身的生命周期</code></p><h3 id="系统异常" tabindex="-1">系统异常 <a class="header-anchor" href="#系统异常" aria-label="Permalink to &quot;系统异常&quot;">​</a></h3><ul><li>window.onerror</li><li>document.addEventListener(&#39;error&#39;)</li><li>xhr status</li></ul><h3 id="用户日志" tabindex="-1">用户日志 <a class="header-anchor" href="#用户日志" aria-label="Permalink to &quot;用户日志&quot;">​</a></h3><ul><li>类装饰器</li><li>类方法劫持</li></ul><h3 id="数据上报" tabindex="-1">数据上报 <a class="header-anchor" href="#数据上报" aria-label="Permalink to &quot;数据上报&quot;">​</a></h3><ul><li>定期/定量上报</li><li>关键生命周期上报</li><li>用户主动提交</li></ul><h3 id="数据监控" tabindex="-1">数据监控 <a class="header-anchor" href="#数据监控" aria-label="Permalink to &quot;数据监控&quot;">​</a></h3><ul><li>错误告警是否有新增错误，可通过报错内容找到报错位置修复</li><li>全版本监控观察：整体的功能点覆盖曲线是否正常，已否有异常涨跌</li><li>分版本监控观察：新版本是否所有功都能正常访问、灰度占比是否正常、新旧版本的转化率是否一致</li></ul>',23),r=[o];function n(d,h,c,s,u,m){return e(),l("div",null,r)}const b=a(t,[["render",n]]);export{p as __pageData,b as default};
