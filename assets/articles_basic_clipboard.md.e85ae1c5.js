import{_ as l,c as p,b as s,d as a,e as o,a as e,o as t,r as c}from"./app.2ddc8ec3.js";const E=JSON.parse('{"title":"JS \u5982\u4F55\u5B9E\u73B0\u590D\u5236","description":"","frontmatter":{},"headers":[{"level":2,"title":"document.execCommand","slug":"document-execcommand","link":"#document-execcommand","children":[{"level":3,"title":"\u5B9E\u73B0","slug":"\u5B9E\u73B0","link":"#\u5B9E\u73B0","children":[]}]},{"level":2,"title":"Clipboard API","slug":"clipboard-api","link":"#clipboard-api","children":[{"level":3,"title":"ClipboardEvent","slug":"clipboardevent","link":"#clipboardevent","children":[]},{"level":3,"title":"ClipboardItem","slug":"clipboarditem","link":"#clipboarditem","children":[]},{"level":3,"title":"navigator.clipboard","slug":"navigator-clipboard","link":"#navigator-clipboard","children":[]}]},{"level":2,"title":"\u6269\u5C55","slug":"\u6269\u5C55","link":"#\u6269\u5C55","children":[{"level":3,"title":"mime type","slug":"mime-type","link":"#mime-type","children":[]},{"level":3,"title":"Blob","slug":"blob","link":"#blob","children":[]}]}],"relativePath":"articles/basic/clipboard.md"}'),r={name:"articles/basic/clipboard.md"},D=s("h1",{id:"js-\u5982\u4F55\u5B9E\u73B0\u590D\u5236",tabindex:"-1"},[a("JS \u5982\u4F55\u5B9E\u73B0\u590D\u5236 "),s("a",{class:"header-anchor",href:"#js-\u5982\u4F55\u5B9E\u73B0\u590D\u5236","aria-hidden":"true"},"#")],-1),F={id:"document-execcommand",tabindex:"-1"},y=s("a",{class:"header-anchor",href:"#document-execcommand","aria-hidden":"true"},"#",-1),i=e(`<p>Web \u89C4\u8303\u4E2D\u8868\u793A <code>document.exceCommand</code> \u4E0D\u4F1A\u518D\u652F\u6301\u4E86\uFF0C\u4F46\u662F\u6709\u4E9B\u6D4F\u89C8\u5668\u8FD8\u662F\u53EF\u4EE5\u7EE7\u7EED\u652F\u6301</p><ul><li>w3c</li><li>whatwg</li><li>mdn</li></ul><h3 id="\u5B9E\u73B0" tabindex="-1">\u5B9E\u73B0 <a class="header-anchor" href="#\u5B9E\u73B0" aria-hidden="true">#</a></h3><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">btn</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">date-text</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">copy me</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">\u590D\u5236</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// \u8FD9\u662F\u4E00\u79CD\u5B9E\u73B0\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#676E95;">// \u8FD8\u53EF\u4EE5\u91C7\u7528 textarea \u5143\u7D20\u9009\u4E2D\u7684\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> btn </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">btn</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">btn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">onclick</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onclick</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">btn</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getAttribute</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">data-text</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// copy \u4E8B\u4EF6</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">copybind</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">e</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">e</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// \u963B\u6B62\u9ED8\u8BA4\u884C\u4E3A \u5982\u679C\u6587\u6863\u4E2D\u6709\u9009\u62E9\u7684\u6587\u5B57\u4F1A\u4F18\u5148\u590D\u5236\u8BE5\u9009\u62E9\u7684\u6587\u5B57 selection</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">preventDefault</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// copy \u4E8B\u4EF6\u4E2D\u542B\u6709 ClipboardEvent \u4E8B\u4EF6\u5BF9\u8C61 datatransfer \u53EF\u4EE5\u5BF9\u6587\u6863\u8FDB\u884C\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// mime type + \u590D\u5236\u7684\u6587\u5B57</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">clipboardData</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setData</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">text/plain</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">data</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// \u79FB\u9664\u7ED1\u5B9A\u4E8B\u4EF6</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">removeEventListener</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">copy</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">copybind</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// \u5168\u5C40\u7ED1\u5B9A\u4E8B\u4EF6</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">addEventListener</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">copy</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">copybind</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">// \u6267\u884C\u590D\u5236\u547D\u4EE4 \u8FD9\u91CC\u4F1A\u89E6\u53D1\u6587\u6863\u7684 copy \u4E8B\u4EF6\uFF0C\u4ECE\u800C\u590D\u5236\u6587\u5B57\u5230\u526A\u5207\u677F\u4E2D</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">execCommand</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">copy</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span>
<span class="line"></span></code></pre></div><h2 id="clipboard-api" tabindex="-1">Clipboard API <a class="header-anchor" href="#clipboard-api" aria-hidden="true">#</a></h2><div class="warning custom-block"><p class="custom-block-title">\u6CE8\u610F</p><p>\u4E00\u4E9B\u6D4F\u89C8\u5668\u5728\u4E0D\u5B89\u5168\u6A21\u5F0F\u4E0B\uFF0C\u8BBF\u95EE\u4E0D\u5230\u6709\u5173\u5B89\u5168\u7684 API\uFF0C\u5982 HTTP \u57DF\u540D\u4E0B\u8BBF\u95EE\u4E0D\u5230 ClipboardItem\uFF0C\u53EF\u4EE5\u4F7F\u7528 window.isSecureContext \u8FDB\u884C\u67E5\u770B\uFF08localhost \u56DE\u73AF\u5730\u5740\u9664\u5916\uFF09\u662F\u5426\u53EF\u4EE5\u8BBF\u95EE</p></div><blockquote><p>\u517C\u5BB9\u6027</p></blockquote><p>chrome58+ Edge12+ Firefox4+ Opera45+ Safari10.1+</p><p>\u4E00\u4E9B\u6D4F\u89C8\u5668\u53EF\u4EE5\u652F\u6301 Clipboard \u76F8\u5173 API\uFF0CWeb \u89C4\u8303\u4E2D\u5EFA\u8BAE\u4F7F\u7528 <code>Clipboard API</code> \u4EE3\u66FF <code>document.execCommand</code> \u76F8\u5173\u7684\u64CD\u4F5C</p><h3 id="clipboardevent" tabindex="-1">ClipboardEvent <a class="header-anchor" href="#clipboardevent" aria-hidden="true">#</a></h3><p>\u526A\u5207\u677F\u4E8B\u4EF6\u5BF9\u8C61\uFF0CdataTransfer \u76F8\u5173\u64CD\u4F5C\uFF08setData, getData)</p><h3 id="clipboarditem" tabindex="-1">ClipboardItem <a class="header-anchor" href="#clipboarditem" aria-hidden="true">#</a></h3><p>\u63D0\u4F9B\u7ED9 navigator.clipboard \u4F7F\u7528\u5F02\u6B65 API \u64CD\u4F5C\u7684\u5B9E\u4F8B\u5BF9\u8C61\uFF08\u590D\u5236\u7684\u7C7B\u578B\uFF09</p><blockquote><p>\u5B9E\u4F8B\u5BF9\u8C61\u5C5E\u6027</p></blockquote><ul><li>types \u8FD4\u56DE mime type \u6570\u7EC4</li><li>presentationStyle \u53D6\u503C &#39;unspecified&#39; | &#39;inline&#39; | &#39;attachment&#39;</li></ul><blockquote><p>\u5B9E\u4F8B\u5BF9\u8C61\u65B9\u6CD5</p></blockquote><ul><li>getType \u8FD4\u56DE\u4E00\u4E2A Promise resolve \u6001\u7684 blob \u5BF9\u8C61\u7C7B\u578B</li></ul><div class="warning custom-block"><p class="custom-block-title">\u6CE8\u610F</p><p>Clipboard \u76F8\u5173\u7684 API \u5FC5\u987B\u5728\u4E00\u4E2A\u6587\u6863\u4E8B\u4EF6\uFF08I/O\uFF09\u5185\u89E6\u53D1\uFF0C\u5355\u72EC\u4F7F\u7528\u65E0\u6548\uFF0C\u76F8\u5173\u7684\u8BFB\u53D6\u6743\u9650\u64CD\u4F5C\u53EF\u4EE5\u67E5\u770B window.Permissions API</p></div><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Permissions_API" target="_blank" rel="noreferrer">window.Permissions</a></p><h3 id="navigator-clipboard" tabindex="-1">navigator.clipboard <a class="header-anchor" href="#navigator-clipboard" aria-hidden="true">#</a></h3><p>\u5F02\u6B65\u64CD\u4F5C API</p><h4 id="write" tabindex="-1">write <a class="header-anchor" href="#write" aria-hidden="true">#</a></h4><p><code>ClipboardItem Blob \u7C7B\u578B\u7684\u6570\u636E</code></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// \u6B64\u4EE3\u7801\u5728\u5168\u5C40\u65E0\u6CD5\u8FD0\u884C</span></span>
<span class="line"><span style="color:#676E95;">// \u5FC5\u987B\u5728\u4E8B\u4EF6\u5185\u8FDB\u884C\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> text </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">copy me</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> data </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ClipboardItem</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">text/plain</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Blob</span><span style="color:#A6ACCD;">([text]</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">text/plain</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">navigator</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">clipboard </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">window</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">isSecureContext) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">warn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u975E\u5B89\u5168\u6A21\u5F0F\u4E0B\u4E0D\u652F\u6301</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">navigator</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">clipboard</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">write</span><span style="color:#A6ACCD;">([data])</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u590D\u5236\u6210\u529F</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">warn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u590D\u5236\u5931\u8D25</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h4 id="writetext" tabindex="-1">writeText <a class="header-anchor" href="#writetext" aria-hidden="true">#</a></h4><p><code>string \u7C7B\u578B</code></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> text </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">copy me</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">navigator</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">clipboard</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">writeText</span><span style="color:#A6ACCD;">(text)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u590D\u5236\u6210\u529F</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">warn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u590D\u5236\u5931\u8D25</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h4 id="read" tabindex="-1">read <a class="header-anchor" href="#read" aria-hidden="true">#</a></h4><p><code>ClipboardItem Blob \u5BF9\u8C61\u7C7B\u578B</code></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">navigator</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">clipboard</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">read</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;">result</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// result \u8FD9\u91CC\u8FD4\u56DE\u7684\u662F ClipboardItem \u5BF9\u8C61</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u8BFB\u53D6\u6210\u529F</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">warn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u8BFB\u53D6\u5931\u8D25</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h4 id="readtext" tabindex="-1">readText <a class="header-anchor" href="#readtext" aria-hidden="true">#</a></h4><p><code>string \u7C7B\u578B</code></p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">navigator</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">clipboard</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">read</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;">result</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// result \u8FD9\u91CC\u8FD4\u56DE\u7684\u662F string</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u8BFB\u53D6\u6210\u529F</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">catch</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">warn</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u8BFB\u53D6\u5931\u8D25</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="\u6269\u5C55" tabindex="-1">\u6269\u5C55 <a class="header-anchor" href="#\u6269\u5C55" aria-hidden="true">#</a></h2><h3 id="mime-type" tabindex="-1">mime type <a class="header-anchor" href="#mime-type" aria-hidden="true">#</a></h3><p><a href="https://www.iana.org/assignments/media-types/media-types.xhtml" target="_blank" rel="noreferrer">MIME TYPE \u5A92\u4F53\u7C7B\u578B</a></p><ul><li>text/plain</li><li>application/json</li><li>image/png</li><li>...</li></ul><h3 id="blob" tabindex="-1">Blob <a class="header-anchor" href="#blob" aria-hidden="true">#</a></h3><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob" target="_blank" rel="noreferrer">Blob</a></p><p>\u521B\u5EFA Blob \u5BF9\u8C61\u662F\u4E00\u4E2A\u4E0D\u53EF\u53D8\u7684\u539F\u59CB\u6570\u636E\u7684\u7C7B\u6587\u4EF6\u5BF9\u8C61\uFF0C\u53EF\u4EE5\u4F5C\u4E3A\u6587\u672C\u6216\u4E8C\u8FDB\u5236\u6570\u636E\u8BFB\u53D6\uFF0C\u4E5F\u53EF\u4EE5\u8F6C\u6362\u4F4D ReadableStream \u4EE5\u4FBF\u5176\u65B9\u6CD5\u53EF\u4EE5\u53EF\u7528\u4E8E\u5904\u7406\u6570\u636E</p><blockquote><p>\u5B9E\u4F8B\u5C5E\u6027</p></blockquote><ul><li>size</li><li>type === mime type \u7C7B\u578B</li></ul><blockquote><p>\u5B9E\u4F8B\u65B9\u6CD5</p></blockquote><ul><li>arrayBuffer \u8FD4\u56DE\u4E00\u4E2A\u6570\u7EC4 buffer \u4E8C\u8FDB\u5236\u6570\u636E</li><li>slice \u8FD4\u56DE\u4E00\u4E2A\u65B0\u7684 Blob \u5BF9\u8C61\u5305\u542B\u6307\u5B9A\u7684\u8303\u56F4\u7684\u5B57\u8282\u8C03\u7528</li><li>stream \u8FD4\u56DE\u4E00\u4E2A\u53EF\u4EE5\u88AB ReadableStream \u8BFB\u53D6\u7684\u6D41</li><li>text \u8FD4\u56DE\u4E00\u4E2A Promise resolve UTF-8 \u7C7B\u578B\u7684\u6587\u672C\u6570\u636E</li></ul>`,45);function A(C,d,b,h,u,m){const n=c("Badge");return t(),p("div",null,[D,s("h2",F,[a("document.execCommand "),o(n,{text:"Deprecated",type:"warn"}),a(),y]),i])}const v=l(r,[["render",A]]);export{E as __pageData,v as default};
