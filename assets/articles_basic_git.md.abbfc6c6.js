import{_ as s,o as a,c as l,Q as o}from"./chunks/framework.7c0fadea.js";const g=JSON.parse('{"title":"GIT","description":"","frontmatter":{},"headers":[],"relativePath":"articles/basic/git.md","filePath":"articles/basic/git.md","lastUpdated":1670330848000}'),n={name:"articles/basic/git.md"},p=o(`<h1 id="git" tabindex="-1">GIT <a class="header-anchor" href="#git" aria-label="Permalink to &quot;GIT&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">GIT CMD</p><p>GIT 命令</p></div><h2 id="git-rebase" tabindex="-1">git rebase <a class="header-anchor" href="#git-rebase" aria-label="Permalink to &quot;git rebase&quot;">​</a></h2><p><code>重新 commit 依赖的上游 top 分支</code></p><h3 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rebase</span><span style="color:#E1E4E8;"> [-i </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">--interactive][&lt;options&gt;]</span><span style="color:#E1E4E8;"> [--exec </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">cm</span><span style="color:#E1E4E8;">d</span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;">][--onto</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">newbas</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">--keep-base]</span><span style="color:#E1E4E8;"> [&lt;upstream&gt; [&lt;branch&gt;]]</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rebase</span><span style="color:#E1E4E8;"> [-i </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">--interactive][&lt;options&gt;]</span><span style="color:#E1E4E8;"> [--exec </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">cm</span><span style="color:#E1E4E8;">d</span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;">][--onto</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&lt;</span><span style="color:#9ECBFF;">newbas</span><span style="color:#E1E4E8;">e</span><span style="color:#F97583;">&gt;</span><span style="color:#9ECBFF;">]</span></span>
<span class="line"><span style="color:#B392F0;">--root</span><span style="color:#E1E4E8;"> [&lt;branch&gt;]</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">rebase</span><span style="color:#E1E4E8;"> (--continue </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">--skip</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">--abort</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">--quit</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">--edit-todo</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">--show-current-patch</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rebase</span><span style="color:#24292E;"> [-i </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">--interactive][&lt;options&gt;]</span><span style="color:#24292E;"> [--exec </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">cm</span><span style="color:#24292E;">d</span><span style="color:#D73A49;">&gt;</span><span style="color:#032F62;">][--onto</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">newbas</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">--keep-base]</span><span style="color:#24292E;"> [&lt;upstream&gt; [&lt;branch&gt;]]</span></span>
<span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rebase</span><span style="color:#24292E;"> [-i </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">--interactive][&lt;options&gt;]</span><span style="color:#24292E;"> [--exec </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">cm</span><span style="color:#24292E;">d</span><span style="color:#D73A49;">&gt;</span><span style="color:#032F62;">][--onto</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&lt;</span><span style="color:#032F62;">newbas</span><span style="color:#24292E;">e</span><span style="color:#D73A49;">&gt;</span><span style="color:#032F62;">]</span></span>
<span class="line"><span style="color:#6F42C1;">--root</span><span style="color:#24292E;"> [&lt;branch&gt;]</span></span>
<span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">rebase</span><span style="color:#24292E;"> (--continue </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">--skip</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">--abort</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">--quit</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">--edit-todo</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">--show-current-patch</span><span style="color:#24292E;">)</span></span></code></pre></div><h3 id="理解" tabindex="-1">理解 <a class="header-anchor" href="#理解" aria-label="Permalink to &quot;理解&quot;">​</a></h3><ul><li>精简提交记录（把不需要的提交记录修剪掉）</li><li>精简分支树（依赖于其他的分支可以回基到想要的分支上） <ul><li>master A B 三个分支</li><li>A fork into master, B fork into A</li><li>git rebase --onto master A B 命令可以使得 B 的提交记录直接提交到 master 上，不依赖 A 分支了</li></ul></li></ul><blockquote><p>--onto 参数</p></blockquote><p><code>git rebase --onto &lt;newbase&gt;</code> 接多个分支或者分支的 HEAD 提交记录（从近到远的提交记录）</p><h2 id="git-revert" tabindex="-1">git revert <a class="header-anchor" href="#git-revert" aria-label="Permalink to &quot;git revert&quot;">​</a></h2><p><code>恢复存在的提交记录</code></p><h3 id="api-1" tabindex="-1">API <a class="header-anchor" href="#api-1" aria-label="Permalink to &quot;API&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">revert</span><span style="color:#E1E4E8;"> [--[no-]edit] [-n] [-m parent-number] [-s] [-S[</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">keyid</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">]] </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">commit</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">…​</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">revert</span><span style="color:#E1E4E8;"> (--continue </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">--skip</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">--abort</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">--quit</span><span style="color:#E1E4E8;">)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">revert</span><span style="color:#24292E;"> [--[no-]edit] [-n] [-m parent-number] [-s] [-S[</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">keyid</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">]] </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">commit</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">…​</span></span>
<span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">revert</span><span style="color:#24292E;"> (--continue </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">--skip</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">--abort</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">--quit</span><span style="color:#24292E;">)</span></span></code></pre></div><h3 id="理解-1" tabindex="-1">理解 <a class="header-anchor" href="#理解-1" aria-label="Permalink to &quot;理解&quot;">​</a></h3><ul><li>重新恢复某个已经存在的提交，并且生成新的提交记录</li></ul><h2 id="git-restore" tabindex="-1">git restore <a class="header-anchor" href="#git-restore" aria-label="Permalink to &quot;git restore&quot;">​</a></h2><p><code>恢复工作区的文件</code></p><h3 id="api-2" tabindex="-1">API <a class="header-anchor" href="#api-2" aria-label="Permalink to &quot;API&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">restore</span><span style="color:#E1E4E8;"> [&lt;options&gt;] [--source</span><span style="color:#F97583;">=&lt;</span><span style="color:#E1E4E8;">tree</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">] [--staged] [--worktree] [--] </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">pathspec</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">…​</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">restore</span><span style="color:#E1E4E8;"> [&lt;options&gt;] [--source</span><span style="color:#F97583;">=&lt;</span><span style="color:#E1E4E8;">tree</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">] [--staged] [--worktree] --pathspec-from-file=</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">file</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> [--pathspec-file-nul]</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">restore</span><span style="color:#E1E4E8;"> (-p</span><span style="color:#F97583;">|</span><span style="color:#B392F0;">--patch</span><span style="color:#E1E4E8;">) [</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">options</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">] [--source</span><span style="color:#F97583;">=&lt;</span><span style="color:#E1E4E8;">tree</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">] [--staged] [--worktree] [--] [</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">pathspec</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">…​]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">restore</span><span style="color:#24292E;"> [&lt;options&gt;] [--source</span><span style="color:#D73A49;">=&lt;</span><span style="color:#24292E;">tree</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">] [--staged] [--worktree] [--] </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">pathspec</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">…​</span></span>
<span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">restore</span><span style="color:#24292E;"> [&lt;options&gt;] [--source</span><span style="color:#D73A49;">=&lt;</span><span style="color:#24292E;">tree</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">] [--staged] [--worktree] --pathspec-from-file=</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">file</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> [--pathspec-file-nul]</span></span>
<span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">restore</span><span style="color:#24292E;"> (-p</span><span style="color:#D73A49;">|</span><span style="color:#6F42C1;">--patch</span><span style="color:#24292E;">) [</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">options</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">] [--source</span><span style="color:#D73A49;">=&lt;</span><span style="color:#24292E;">tree</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">] [--staged] [--worktree] [--] [</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">pathspec</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">…​]</span></span></code></pre></div><h3 id="理解-2" tabindex="-1">理解 <a class="header-anchor" href="#理解-2" aria-label="Permalink to &quot;理解&quot;">​</a></h3><ul><li>对已经提交到工作区的文件进行操作</li></ul><p>git restore * or . 放弃所有更改 git restore --staged * or . 放弃已提交到工作区的所有文件</p><ul><li>-s --source 参数</li></ul><p>git restore --soruce HEAD~1 文件名 这个可以使文件回到 1 个版本以前，工作区保持不变</p><h3 id="git-reset" tabindex="-1">git reset <a class="header-anchor" href="#git-reset" aria-label="Permalink to &quot;git reset&quot;">​</a></h3><p><code>重新设置当前 HEAD 到某个提交记录</code></p><h3 id="api-3" tabindex="-1">API <a class="header-anchor" href="#api-3" aria-label="Permalink to &quot;API&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">reset</span><span style="color:#E1E4E8;"> [-q] [</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">tree-ish</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">] [--] </span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">pathspec</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">…​</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">reset</span><span style="color:#E1E4E8;"> [-q] [--pathspec-from-file</span><span style="color:#F97583;">=&lt;</span><span style="color:#E1E4E8;">file</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;"> [--pathspec-file-nul]] [</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">tree-ish</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">]</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">reset</span><span style="color:#E1E4E8;"> (--patch </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">-p</span><span style="color:#E1E4E8;">) [</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">tree-ish</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">] [--] [</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">pathspec</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">…​]</span></span>
<span class="line"><span style="color:#B392F0;">git</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">reset</span><span style="color:#E1E4E8;"> [--soft </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">--mixed</span><span style="color:#E1E4E8;"> [-N] </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">--hard</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">--merge</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">--keep]</span><span style="color:#E1E4E8;"> [-q] [</span><span style="color:#F97583;">&lt;</span><span style="color:#E1E4E8;">commit</span><span style="color:#F97583;">&gt;</span><span style="color:#E1E4E8;">]</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">reset</span><span style="color:#24292E;"> [-q] [</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">tree-ish</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">] [--] </span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">pathspec</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">…​</span></span>
<span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">reset</span><span style="color:#24292E;"> [-q] [--pathspec-from-file</span><span style="color:#D73A49;">=&lt;</span><span style="color:#24292E;">file</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;"> [--pathspec-file-nul]] [</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">tree-ish</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">]</span></span>
<span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">reset</span><span style="color:#24292E;"> (--patch </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">-p</span><span style="color:#24292E;">) [</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">tree-ish</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">] [--] [</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">pathspec</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">…​]</span></span>
<span class="line"><span style="color:#6F42C1;">git</span><span style="color:#24292E;"> </span><span style="color:#032F62;">reset</span><span style="color:#24292E;"> [--soft </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">--mixed</span><span style="color:#24292E;"> [-N] </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">--hard</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">--merge</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">--keep]</span><span style="color:#24292E;"> [-q] [</span><span style="color:#D73A49;">&lt;</span><span style="color:#24292E;">commit</span><span style="color:#D73A49;">&gt;</span><span style="color:#24292E;">]</span></span></code></pre></div><h3 id="理解-3" tabindex="-1">理解 <a class="header-anchor" href="#理解-3" aria-label="Permalink to &quot;理解&quot;">​</a></h3><ul><li>重新设置提交记录（soft hard mixed keep）</li><li>reset 和 revert 区别 reset 的提交可以使得提交记录不存在 加上 --hard 参数</li></ul>`,31),e=[p];function t(r,c,y,E,i,F){return a(),l("div",null,e)}const d=s(n,[["render",t]]);export{g as __pageData,d as default};
